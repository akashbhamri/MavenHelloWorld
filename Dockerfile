Bitbucket experienced multiple outages due to a conflict between the database index rebuild job and a surge of active commits, which resulted in severe DB blocking and table locks. During the first incident, even node-by-node restarts failed to restore services because a DB table lock was holding critical resources; the issue was resolved only after executing a manual unlock command on the database. In the second and third incidents, although similar symptoms appeared, there was no table lock, and the services were successfully recovered through node-by-node restarts. The common factor across all incidents was the overlap of the index rebuild process with peak database activity, which created transaction conflicts and instability.

This highlights the need to reschedule index rebuild jobs outside peak hours, implement real-time monitoring for DB blocking and table locks, and ensure proactive measures like standardized system limits and query performance checks to avoid recurrence.